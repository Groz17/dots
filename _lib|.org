#+name: chassis
#+begin_src bash
hostnamectl chassis
#+end_src

#+name: distro
#+begin_src bash :results raw
hostnamectl -j | jq -r '.OperatingSystemReleaseData | map(select(startswith("ID")))[-1] | split("=")[1]'
#+end_src

#+name: alternate
#+begin_src bash :noweb yes
[[ <<chassis()>> = "desktop" ]] && echo 'arch' || echo 'fedora'
#+end_src

#+name: theme
#+begin_src bash :noweb yes :var color_scheme="dark" :results output
case $color_scheme in
  light) printf "ef-summer" ;;
  dark)  printf "ef-owl" ;;
esac
#+end_src

